import{x as _,c as o,a as t,e as h,F as g,n as u,A as b,r as f,o as n,t as l,p as d}from"./index-r35W0lTO.js";const m={class:"p-8 bg-slate-50 min-h-screen"},v={class:"max-w-7xl mx-auto"},w={class:"bg-white rounded-4xl shadow-xl shadow-slate-200/50 overflow-hidden border border-slate-100"},y={class:"w-full text-left border-collapse"},k={class:"divide-y divide-slate-50"},D={class:"p-5"},S={class:"font-bold text-slate-800"},A={class:"text-xs text-slate-400 font-medium"},L={class:"p-5"},B={class:"flex items-center gap-2"},E={class:"bg-blue-50 text-blue-600 px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-tighter border border-blue-100"},I={class:"text-slate-600 text-sm font-semibold"},$={class:"p-5"},C={class:"flex items-center gap-2"},F={class:"p-5"},M={class:"text-slate-700 text-sm font-medium"},N={class:"text-[10px] text-slate-400 italic"},V={class:"p-5 text-right"},R={__name:"AdminView",setup(Y){const c=`${b}/api/admin/records`,r=f([]),i=async()=>{try{const s=await(await fetch(c)).json();console.log("Data successfully loaded:",s),r.value=s}catch(a){console.error("Error fetching admin data:",a)}},x=a=>new Date(a).toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short"}),p=a=>{if(a<60)return`${a}m`;const s=Math.floor(a/60),e=a%60;return`${s}h ${e}m`};return _(i),(a,s)=>(n(),o("div",m,[t("div",v,[t("div",{class:"flex justify-between items-center mb-8"},[s[1]||(s[1]=t("div",null,[t("h1",{class:"text-3xl font-bold text-slate-800 tracking-tight"},"CK School Lateness Monitoring"),t("p",{class:"text-slate-500 mt-1"},"Attendance & Biometric Status Dashboard")],-1)),t("button",{onClick:i,class:"bg-[#84a96b] hover:bg-[#73945d] text-white px-6 py-2.5 rounded-xl font-bold transition-all shadow-lg shadow-green-100 flex items-center gap-2"},[...s[0]||(s[0]=[t("i",{class:"fas fa-sync-alt"},null,-1),h(" Refresh Data ",-1)])])]),t("div",w,[t("table",y,[s[2]||(s[2]=t("thead",{class:"bg-slate-50/50 border-b border-slate-100"},[t("tr",null,[t("th",{class:"p-5 font-bold text-slate-600 text-sm uppercase tracking-wider"},"Student"),t("th",{class:"p-5 font-bold text-slate-600 text-sm uppercase tracking-wider"},"Identity"),t("th",{class:"p-5 font-bold text-slate-600 text-sm uppercase tracking-wider"},"Face ID"),t("th",{class:"p-5 font-bold text-slate-600 text-sm uppercase tracking-wider"},"Arrival Time"),t("th",{class:"p-5 font-bold text-slate-600 text-sm uppercase tracking-wider text-right"},"Lateness")])],-1)),t("tbody",k,[(n(!0),o(g,null,u(r.value,e=>(n(),o("tr",{key:e.date,class:"hover:bg-slate-50/80 transition-colors"},[t("td",D,[t("div",S,l(e.name),1),t("div",A,l(e.student_id),1)]),t("td",L,[t("div",B,[t("span",E,l(e.level),1),t("span",I,l(e.grade)+l(e.class_group)+" Â· "+l(e.ship),1)])]),t("td",$,[t("div",C,[t("div",{class:d([e.face_registered==="Yes"?"bg-green-500":"bg-slate-300","w-2 h-2 rounded-full"])},null,2),t("span",{class:d(["text-sm font-bold",e.face_registered==="Yes"?"text-slate-700":"text-slate-400"])},l(e.face_registered==="Yes"?"Enrolled":"Unregistered"),3)])]),t("td",F,[t("div",M,l(x(e.date)),1),t("div",N,l(e.reason||"No reason provided"),1)]),t("td",V,[t("span",{class:d(["px-3 py-1.5 rounded-lg font-black text-sm",e.total_lateness>0?"bg-red-50 text-red-500":"bg-green-50 text-green-500"])},l(p(e.total_lateness)),3)])]))),128))])])])])]))}};export{R as default};
